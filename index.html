<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Working Paper: Electoral Integrity and the Fourth Branch</title>
  <meta name="description" content="Working paper page: Electoral Integrity and the Fourth Branch â€” Drafts, PDF, citation, and source." />
  <link rel="stylesheet" href="assets/style.css" />
  <link rel="icon" href="data:;base64,=" />
</head>
<body>
  <header class="site-header">
    <div class="container">
      <h1 id="paper-title">Electoral Integrity and the Fourth Branch: Working Paper</h1>
      <p class="meta" id="paper-authors">By Jane X. Researcher, John Q. Analyst</p>
      <nav class="actions">
        <a id="download-pdf" class="btn" href="paper.pdf" download>Download PDF</a>
        <a id="view-source" class="btn" target="_blank" rel="noopener" href="https://github.com/jsxiao317/DPL-JX-Electoral-Integrity-and-Fourth-Branch-Research/blob/main/paper.md">View source (Markdown)</a>
        <button id="cite-btn" class="btn">Cite</button>
        <a id="report-issue" class="btn outline" target="_blank" rel="noopener" href="https://github.com/jsxiao317/DPL-JX-Electoral-Integrity-and-Fourth-Branch-Research/issues/new?labels=paper%2Cbug">Report issue</a>
      </nav>
    </div>
  </header>

  <main class="container">
    <aside id="toc" class="toc" aria-label="Table of contents">
      <h2>Contents</h2>
      <nav id="toc-list"></nav>
      <hr />
      <h3>Versions</h3>
      <ul id="versions">
        <li><button class="link-version" data-file="paper.md">Draft (paper.md)</button></li>
        <li><button class="link-version" data-file="paper_v1.md">Preprint (paper_v1.md)</button></li>
      </ul>
    </aside>

    <article id="paper" class="paper">
      <!-- Rendered markdown will appear here -->
      <div id="paper-loading">Loading paper...</div>
    </article>
  </main>

  <!-- Citation modal -->
  <div id="modal" class="modal" aria-hidden="true">
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modal-title">
      <button id="modal-close" class="modal-close" aria-label="Close">&times;</button>
      <h2 id="modal-title">Cite this paper</h2>
      <p class="muted">Copy the citation in your preferred format</p>
      <pre id="citation-bibtex" class="citation-block">@article{researcher2025electoral,
  title={Electoral Integrity and the Fourth Branch: Working Paper},
  author={Researcher, Jane X. and Analyst, John Q.},
  year={2025},
  howpublished={Working paper, available at https://github.com/jsxiao317/DPL-JX-Electoral-Integrity-and-Fourth-Branch-Research},
}</pre>
      <div class="modal-actions">
        <button id="copy-bibtex" class="btn">Copy BibTeX</button>
        <button id="download-bib" class="btn outline">Download .bib</button>
      </div>
    </div>
  </div>

  <footer class="site-footer">
    <div class="container">
      <p>Working paper page generated for a political science project. For updates and history, see the repository on GitHub.</p>
    </div>
  </footer>

  <!-- Primary CDN for marked, with a small fallback loader that tries to load a local copy if the CDN fails -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    // If marked didn't load from CDN, dynamically load a local copy (assets/marked.min.js) if present.
    if (typeof marked === 'undefined') {
      console.warn('marked not found on CDN, attempting to load local assets/marked.min.js');
      var s = document.createElement('script');
      s.src = 'assets/marked.min.js';
      s.onload = function(){ console.info('Loaded local marked.min.js'); };
      s.onerror = function(){ console.error('Failed to load local marked.min.js. Markdown rendering will not work.'); };
      document.head.appendChild(s);
    }
  </script>

  <noscript>
    <div style="padding:1rem;background:#fff5f5;border:1px solid #ffe4e6;margin:1rem;border-radius:6px;">
      This page requires JavaScript to render the manuscript. Please enable JavaScript or download paper.pdf from the repository root.
    </div>
  </noscript>

  <script src="assets/script.js"></script>
</body>
</html>
